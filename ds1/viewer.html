<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Viewer - Larger Version</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@google/model-viewer/dist/model-viewer.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@google/model-viewer/dist/model-viewer.min.css">
		<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
    <style>
        body {
             margin: 0;
            font-family: Spectral, Arial, sans-serif;
            text-align: center;
			background-color:#222222;
        }
        h1 {
            margin: 0px;
        }
        model-viewer {
            width: 900px;
            height: 900px;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <h1 id="header">3D Model Viewer - Larger Version</h1>
    <model-viewer 
        id="viewer" 
        auto-rotate 
        auto-rotate-speed="2" 
        camera-controls 
        interaction-prompt="none" 
        alt="A larger 3D model"
        style="width: 900px; height: 900px;">
    </model-viewer>

    <script>
        // Get the model filename from the query parameter "model"
        const urlParams = new URLSearchParams(window.location.search);
        const model = urlParams.get('model'); // E.g., ?model=Dagger.glb

        if (model) {
            const viewer = document.getElementById('viewer');
            viewer.setAttribute('src', `./weapons/${model}`);

            // Extract the model name (e.g., "Dagger" from "Dagger.glb")
            const modelName = model.replace('.glb', '');
            // Update the header text
            const header = document.getElementById('header');
            header.textContent = `${modelName} - 3D Model (Larger View)`;
        } else {
            console.error("No model specified in the URL. Use ?model=filename.glb");
        }
		 // Iterate over all materials
            scene.model.materials.forEach((material) => {
                console.log(`Adjusting material: ${material.name}`);
                material.pbrMetallicRoughness.setMetallicFactor(0); // Disable metallic
                material.pbrMetallicRoughness.metallicRoughnessTexture = null; // Remove texture
            });
    </script>
</body>
</html>
